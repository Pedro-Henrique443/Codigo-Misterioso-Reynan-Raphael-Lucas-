#include <stdio.h>
#include <locale.h>
#include <stdlib.h>
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Falta o --->> #include <time.h>

/*Criação da Matriz:
Crie uma para armazenar as informações dos produtos:
ID do produto (inteiro).
Quantidade em estoque (inteiro).
Preço do produto (float).
*/

float vetor[10]; // vetor de preço (10)
int matriz[10][2]; // Matriz de ID e Qtd (10x2)
int i = 0, j = 0;
int opção, id; /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// O correto é --> op
/*Criação da Matriz:
int qtdv; // quantidade vendida
float valtotal = 0; // valor total da venda

int main() {
    setlocale(LC_ALL, "portuguese");
    srand(time(NULL)); // inicializa o gerador de números aleatórios

    // Gera valores aleatórios para os produtos
    for (i = 0; i < 10; i++) {
        matriz[i][0] = rand() % 100 + 1; // ID aleatório entre 1 e 100
        matriz[i][1] = rand() % 20 + 1; // Quantidade aleatória entre 1 e 20
    }
    for (i = 0; i < 10; i++) {
        vetor[i] = (rand() % 10000) / 100.0; // Preço aleatório entre 0.00 e 99.99
    }

    do {
        printf("\n");
        printf("Menu de Opções: \n 1 - Exibir Produtos \n 2 - Vender Produtos \n 0 - Sair \n\nDigite a opção desejada: ");
        scanf("%d", &op);
        switch (op) {
        caso 1: ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Correto ---> case 1:
            for (i = 0; i < 10; i++) {
                printf("ID: %d", matriz[i][0]);
                if (matriz[i][1] < 3) {
                    printf("| QTD: Estoque Baixo");
                } else {
                    printf("| QTD: %d", matriz[i][1]);
                }
                printf("| Valor: %.2f\n", vetor[i]);
            }
            breack; ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Correto ---> break;
        ///////////////////////////////////////////////////////////////
        caso 2: 
            printf("Digite o ID do produto a ser vendido: ");
            scanf("%d", &id);
            printf("Digite a quantidade a ser vendida: ");
            scanf("%d", &qtdv);
            for (i = 0; i < 10; i++) {
                if (id == matriz[i][0]) {
                    if (qtdv > matriz[i][1]) {
                        printf("Quantidade insuficiente em estoque.\n");
                    } else {
                        matriz[i][1] -= qtdv;
                        valtotal += qtdv * vetor[i];
                        printf("Venda realizada: Valor total: R$%.2f\n", valtotal);
                        printf("Quantidade restante do Produto %d: %d\n", matriz[i][0], matriz[i][1]);
                        if (matriz[i][1] == 0) {
                            printf("Estoque esgotado.\n");
                        }
                    }
                    break;
                }
            }
            break;
        ///////////////////////////////////////////////////////////////
        case 0:
            printf("Saindo...\n");
            break;
        default:
            printf("Valor inválido.\n");
        }
    } while (op > 0); ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Incorreta -----> while (op != 0);

    return 0;
}
